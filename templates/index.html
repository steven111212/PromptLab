<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LLMè©•æ¸¬å¹³å°</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.min.css" rel="stylesheet">
    <style>
        .nav-tabs .nav-link {
            color: #6c757d;
            border: none;
            background-color: transparent;
            transition: all 0.3s ease;
        }
        .nav-tabs .nav-link:hover {
            color: #0d6efd;
            background-color: rgba(13, 110, 253, 0.05);
            text-decoration: none;
        }
        .nav-tabs .nav-link.active {
            color: #0d6efd !important;
            background-color: rgba(13, 110, 253, 0.1) !important;
            border-bottom: 2px solid #0d6efd !important;
            text-decoration: none;
        }
        .main-content {
            background-color: #f8f9fa;
            min-height: calc(100vh - 64px);
        }
        .card {
            border: none;
            box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
            transition: all 0.3s ease;
        }
        .card:hover {
            box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
        }
        .nav-link {
            color: rgba(255, 255, 255, 0.8);
            transition: all 0.3s ease;
        }
        .nav-link:hover, .nav-link.active {
            color: white;
            background-color: rgba(255, 255, 255, 0.1);
        }
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
        }
        .btn-primary:hover {
            background: linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%);
        }
        .config-editor {
            font-family: 'Courier New', monospace;
            font-size: 14px;
        }
        .result-item {
            border-left: 4px solid #667eea;
            padding-left: 15px;
            margin-bottom: 15px;
        }
        .config-item {
            transition: all 0.3s ease;
        }
        .config-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
        }
        .config-item.border-primary {
            border-color: #667eea !important;
            background-color: rgba(102, 126, 234, 0.1) !important;
        }
        .score-badge {
            font-size: 1.1em;
            padding: 0.5em 1em;
        }
        .loading {
            display: none;
        }
        .loading.show {
            display: block;
        }
        
        /* é…ç½®ç®¡ç†é é¢æ¨£å¼ */
        .config-item:hover {
            background-color: rgba(13, 110, 253, 0.05) !important;
        }
        
        .config-item.active {
            background-color: rgba(13, 110, 253, 0.1) !important;
            border-left: 3px solid #0d6efd !important;
        }
        
        .config-detail-view {
            animation: fadeIn 0.3s ease-in-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* æ­¥é©Ÿå¼è¡¨å–®æ¨£å¼ */
        .progress-steps {
            margin-bottom: 2rem;
        }

        .progress-steps .step {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            flex: 1;
            color: #6c757d;
        }

        .progress-steps .step.clickable {
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .progress-steps .step.clickable:hover {
            color: #0d6efd;
            transform: translateY(-2px);
        }

        .progress-steps .step.clickable:hover .step-number {
            background-color: #0d6efd;
            color: white;
            transform: scale(1.1);
        }

        .progress-steps .step-number {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: #e9ecef;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-bottom: 8px;
            transition: all 0.3s ease;
        }

        .progress-steps .step-label {
            font-size: 0.875rem;
            text-align: center;
        }

        .progress-steps .step-line {
            height: 2px;
            background-color: #e9ecef;
            flex: 1;
            margin: 0 1rem;
            margin-top: 20px;
            transition: all 0.3s ease;
        }

        .progress-steps .step.active .step-number {
            background-color: #0d6efd;
            color: white;
        }

        .progress-steps .step.active {
            color: #0d6efd;
        }

        .progress-steps .step.completed .step-number {
            background-color: #198754;
            color: white;
        }

        .progress-steps .step.completed {
            color: #198754;
        }

        .progress-steps .step.completed + .step-line {
            background-color: #198754;
        }

        .form-step {
            min-height: 400px;
        }

        .step-header {
            border-bottom: 1px solid #e9ecef;
            padding-bottom: 1rem;
        }

        .step-navigation {
            border-top: 1px solid #e9ecef;
            padding-top: 1rem;
        }

        
        .card.shadow-sm {
            box-shadow: 0 .125rem .25rem rgba(0,0,0,.075) !important;
        }
        
        .card.shadow-sm:hover {
            box-shadow: 0 .5rem 1rem rgba(0,0,0,.15) !important;
            transition: box-shadow 0.3s ease;
        }

        /* ==================== Phase 1 & 2: UX æå‡æ¨£å¼ ==================== */
        
        /* Toast é€šçŸ¥ç³»çµ± */
        .toast-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 9999;
            display: flex;
            flex-direction: column;
            gap: 12px;
            max-width: 400px;
        }

        .toast-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 16px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            opacity: 0;
            transform: translateX(400px);
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            border-left: 4px solid #3b82f6;
            min-width: 320px;
        }

        .toast-item.show {
            opacity: 1;
            transform: translateX(0);
        }

        .toast-item.hide {
            opacity: 0;
            transform: translateX(400px);
        }

        .toast-item.toast-success {
            border-left-color: #10b981;
        }

        .toast-item.toast-error {
            border-left-color: #ef4444;
        }

        .toast-item.toast-warning {
            border-left-color: #f59e0b;
        }

        .toast-item.toast-info {
            border-left-color: #3b82f6;
        }

        .toast-icon {
            font-size: 20px;
            margin-top: 2px;
            flex-shrink: 0;
        }

        .toast-content {
            flex: 1;
        }

        .toast-message {
            color: #374151;
            font-size: 15px;
            line-height: 1.5;
            margin: 0;
        }

        .toast-close {
            background: none;
            border: none;
            color: #9ca3af;
            cursor: pointer;
            padding: 0;
            font-size: 16px;
            transition: color 0.2s;
            flex-shrink: 0;
        }

        .toast-close:hover {
            color: #4b5563;
        }

        /* éª¨æ¶å±è¼‰å…¥å‹•ç•« */
        .skeleton {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: skeleton-loading 1.5s ease-in-out infinite;
            border-radius: 4px;
        }

        @keyframes skeleton-loading {
            0% {
                background-position: 200% 0;
            }
            100% {
                background-position: -200% 0;
            }
        }

        .skeleton-item {
            margin-bottom: 12px;
        }

        .skeleton-header {
            height: 24px;
            width: 70%;
            margin-bottom: 8px;
        }

        .skeleton-text {
            height: 16px;
            width: 100%;
            margin-bottom: 8px;
        }

        .skeleton-text-short {
            height: 16px;
            width: 60%;
        }

        .skeleton-card {
            padding: 20px;
            background: white;
            border-radius: 8px;
            margin-bottom: 16px;
        }

        /* Phase 2: é–“è·èˆ‡å­—é«”å„ªåŒ– */
        body {
            font-size: 15px;
            line-height: 1.6;
        }

        .card {
            padding: 1.5rem;
        }

        .card-body {
            padding: 1.5rem;
        }

        .mb-3 {
            margin-bottom: 1.5rem !important;
        }

        .mb-4 {
            margin-bottom: 2rem !important;
        }

        h2 {
            font-size: 28px;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        h5 {
            font-size: 20px;
            font-weight: 600;
        }

        h6 {
            font-size: 16px;
            font-weight: 600;
        }

        /* æŒ‰éˆ•å±¤ç´šå„ªåŒ– */
        .btn {
            padding: 0.625rem 1.25rem;
            font-size: 15px;
            font-weight: 500;
            border-radius: 6px;
            transition: all 0.2s ease;
        }

        .btn-lg {
            padding: 0.75rem 1.5rem;
            font-size: 16px;
        }

        .btn-sm {
            padding: 0.375rem 0.875rem;
            font-size: 14px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            border: none;
            box-shadow: 0 2px 4px rgba(59, 130, 246, 0.3);
        }

        .btn-primary:hover {
            background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
            box-shadow: 0 4px 8px rgba(59, 130, 246, 0.4);
            transform: translateY(-1px);
        }

        .btn-primary:active {
            transform: translateY(0);
            box-shadow: 0 1px 2px rgba(59, 130, 246, 0.3);
        }

        .btn-success {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            border: none;
            box-shadow: 0 2px 4px rgba(16, 185, 129, 0.3);
        }

        .btn-success:hover {
            background: linear-gradient(135deg, #059669 0%, #047857 100%);
            box-shadow: 0 4px 8px rgba(16, 185, 129, 0.4);
            transform: translateY(-1px);
        }

        .btn-danger {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            border: none;
            box-shadow: 0 2px 4px rgba(239, 68, 68, 0.3);
        }

        .btn-danger:hover {
            background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
            box-shadow: 0 4px 8px rgba(239, 68, 68, 0.4);
            transform: translateY(-1px);
        }

        .btn-outline-secondary {
            border: 1.5px solid #d1d5db;
            color: #6b7280;
            background: white;
        }

        .btn-outline-secondary:hover {
            background: #f9fafb;
            border-color: #9ca3af;
            color: #374151;
            transform: translateY(-1px);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .btn-outline-primary {
            border: 1.5px solid #3b82f6;
            color: #3b82f6;
            background: white;
        }

        .btn-outline-primary:hover {
            background: #eff6ff;
            border-color: #2563eb;
            color: #2563eb;
            transform: translateY(-1px);
            box-shadow: 0 2px 4px rgba(59, 130, 246, 0.2);
        }

        .btn-info {
            background: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%);
            border: none;
            color: white;
            box-shadow: 0 2px 4px rgba(6, 182, 212, 0.3);
        }

        .btn-info:hover {
            background: linear-gradient(135deg, #0891b2 0%, #0e7490 100%);
            box-shadow: 0 4px 8px rgba(6, 182, 212, 0.4);
            transform: translateY(-1px);
        }

        /* å¾®å‹•ç•«æ•ˆæœ */
        .tab-content {
            opacity: 1;
            transform: translateY(0);
            transition: opacity 0.3s ease-out, transform 0.3s ease-out;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .card {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
        }

        .modal.fade .modal-dialog {
            transform: translateY(-50px);
            transition: transform 0.3s ease-out;
        }

        .modal.show .modal-dialog {
            transform: translateY(0);
        }

        .list-group-item {
            transition: all 0.2s ease;
        }

        .list-group-item:hover {
            background-color: #f9fafb;
        }

        /* è‰²å½©å°æ¯”åº¦å„ªåŒ– */
        .text-muted {
            color: #6b7280 !important;
        }

        .text-primary {
            color: #3b82f6 !important;
        }

        .text-success {
            color: #10b981 !important;
        }

        .text-danger {
            color: #ef4444 !important;
        }

        .text-warning {
            color: #f59e0b !important;
        }

        .bg-primary {
            background-color: #3b82f6 !important;
        }

        .bg-success {
            background-color: #10b981 !important;
        }

        .bg-danger {
            background-color: #ef4444 !important;
        }

        .bg-warning {
            background-color: #f59e0b !important;
        }

        .bg-info {
            background-color: #06b6d4 !important;
        }

        .badge {
            font-weight: 500;
            padding: 0.375em 0.75em;
        }

        /* è¡¨å–®é©—è­‰æ¨£å¼ */
        .form-control.is-valid {
            border-color: #10b981;
            padding-right: calc(1.5em + 0.75rem);
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3e%3cpath fill='%2310b981' d='M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right calc(0.375em + 0.1875rem) center;
            background-size: calc(0.75em + 0.375rem) calc(0.75em + 0.375rem);
        }

        .form-control.is-invalid {
            border-color: #ef4444;
            padding-right: calc(1.5em + 0.75rem);
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23ef4444'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23ef4444' stroke='none'/%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right calc(0.375em + 0.1875rem) center;
            background-size: calc(0.75em + 0.375rem) calc(0.75em + 0.375rem);
        }

        .invalid-feedback {
            color: #ef4444;
            font-size: 14px;
            margin-top: 0.25rem;
        }

        .valid-feedback {
            color: #10b981;
            font-size: 14px;
            margin-top: 0.25rem;
        }

        /* ç¢ºèªå°è©±æ¡†æ¨£å¼ */
        .confirm-dialog .modal-content {
            border: none;
            border-radius: 12px;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }

        .confirm-dialog .modal-header {
            border-bottom: 1px solid #e5e7eb;
            padding: 1.5rem;
        }

        .confirm-dialog .modal-body {
            padding: 1.5rem;
        }

        .confirm-dialog .modal-footer {
            border-top: 1px solid #e5e7eb;
            padding: 1rem 1.5rem;
        }

        /* ==================== Phase 3: çµæœé å¢å¼·æ¨£å¼ ==================== */
        
        /* çµ±è¨ˆå¡ç‰‡ */
        .stat-card {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            border: 1px solid #e5e7eb;
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            border-color: #3b82f6;
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.15);
            transform: translateY(-2px);
        }

        .stat-card-icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            margin-bottom: 1rem;
        }

        .stat-card-value {
            font-size: 32px;
            font-weight: 700;
            line-height: 1;
            margin-bottom: 0.5rem;
        }

        .stat-card-label {
            color: #6b7280;
            font-size: 14px;
            font-weight: 500;
        }

        .stat-card-change {
            font-size: 13px;
            margin-top: 0.5rem;
        }

        .stat-card-change.positive {
            color: #10b981;
        }

        .stat-card-change.negative {
            color: #ef4444;
        }

        /* ç¯©é¸æ¨™ç±¤ */
        .filter-tag {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 4px 12px;
            background: #eff6ff;
            border: 1px solid #bfdbfe;
            color: #1e40af;
            border-radius: 16px;
            font-size: 13px;
            font-weight: 500;
            transition: all 0.2s ease;
        }

        .filter-tag:hover {
            background: #dbeafe;
            border-color: #93c5fd;
        }

        .filter-tag .remove-filter {
            cursor: pointer;
            opacity: 0.7;
            transition: opacity 0.2s;
        }

        .filter-tag .remove-filter:hover {
            opacity: 1;
        }

        /* è¡¨æ ¼æ”¹å–„ */
        .table-enhanced {
            border-collapse: separate;
            border-spacing: 0;
        }

        .table-enhanced thead th {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            color: white;
            font-weight: 600;
            text-transform: uppercase;
            font-size: 13px;
            letter-spacing: 0.5px;
            padding: 1rem;
            border: none;
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .table-enhanced thead th:first-child {
            border-top-left-radius: 8px;
        }

        .table-enhanced thead th:last-child {
            border-top-right-radius: 8px;
        }

        .table-enhanced tbody tr {
            transition: all 0.2s ease;
            border-bottom: 1px solid #f3f4f6;
        }

        .table-enhanced tbody tr:hover {
            background-color: #f9fafb;
            transform: scale(1.01);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        .table-enhanced tbody td {
            padding: 1rem;
            vertical-align: middle;
        }

        /* é€šéç‡é€²åº¦æ¢ */
        .pass-rate-bar {
            width: 100%;
            height: 8px;
            background: #e5e7eb;
            border-radius: 4px;
            overflow: hidden;
            margin-top: 4px;
        }

        .pass-rate-fill {
            height: 100%;
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        .pass-rate-fill.high {
            background: linear-gradient(90deg, #10b981 0%, #059669 100%);
        }

        .pass-rate-fill.medium {
            background: linear-gradient(90deg, #f59e0b 0%, #d97706 100%);
        }

        .pass-rate-fill.low {
            background: linear-gradient(90deg, #ef4444 0%, #dc2626 100%);
        }

        /* æ’åºæŒ‡ç¤ºå™¨ */
        .sortable-header {
            cursor: pointer;
            user-select: none;
            position: relative;
            padding-right: 24px !important;
        }

        .sortable-header:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .sort-indicator {
            position: absolute;
            right: 8px;
            top: 50%;
            transform: translateY(-50%);
            opacity: 0.5;
        }

        .sort-indicator.active {
            opacity: 1;
        }

        /* æ¨™è¨˜/æ”¶è—æ¨£å¼ */
        .bookmark-btn {
            color: #9ca3af;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .bookmark-btn:hover {
            color: #f59e0b;
            transform: scale(1.2);
        }

        .bookmark-btn.bookmarked {
            color: #f59e0b;
        }

        .result-tag {
            display: inline-block;
            padding: 2px 8px;
            background: #f3f4f6;
            border: 1px solid #e5e7eb;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 500;
            color: #6b7280;
            margin-right: 4px;
        }

        .result-tag.important {
            background: #fef3c7;
            border-color: #fbbf24;
            color: #92400e;
        }

        .result-tag.baseline {
            background: #dbeafe;
            border-color: #60a5fa;
            color: #1e3a8a;
        }

        /* å¿«é€Ÿæ“ä½œé¸å–® */
        .quick-actions {
            opacity: 0;
            transition: opacity 0.2s ease;
        }

        tr:hover .quick-actions {
            opacity: 1;
        }
    </style>
</head>
<body>
    <div class="container-fluid">
        <!-- é ‚éƒ¨å°èˆªæ¬„ -->
        <div class="row bg-white border-bottom">
            <div class="col-12">
                <div class="d-flex align-items-center py-2 px-3">
                    <h4 class="mb-0 me-4">
                        <i class="fas fa-chart-line me-2 text-primary"></i>
                        <span class="text-primary">ScoreLab - è©•åˆ†å·¥å…·</span>
                    </h4>
                    <div class="nav nav-tabs border-0">
                        <a class="nav-link active px-4 py-3 border-0" href="#" data-tab="config" 
                           style="font-weight: 500;">
                            <i class="fas fa-cog me-2"></i>è©•æ¸¬å°ˆæ¡ˆç®¡ç†
                        </a>
                        <a class="nav-link px-4 py-3 border-0" href="#" data-tab="results"
                           style="font-weight: 500;">
                            <i class="fas fa-chart-bar me-2"></i>è©•ä¼°çµæœ
                        </a>
                        <a class="nav-link px-4 py-3 border-0" href="/" 
                           style="font-weight: 500; color: rgba(255, 255, 255, 0.8);">
                            <i class="fas fa-home me-2"></i>è¿”å›ä¸»é 
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- ä¸»è¦å…§å®¹å€ -->
        <div class="row">
            <div class="col-12">
                <div class="p-4">
                    <!-- é…ç½®ç®¡ç† -->
                    <div id="config" class="tab-content">
                        <!-- ç°¡æ½”çš„æ¨™é¡Œåˆ— -->
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <div>
                                <h2 class="mb-1"><i class="fas fa-cog me-2 text-primary"></i>è©•æ¸¬å°ˆæ¡ˆç®¡ç†</h2>
                                <p class="text-muted mb-0">ç®¡ç†å’Œç·¨è¼¯ä½ çš„è©•æ¸¬å°ˆæ¡ˆ</p>
                            </div>
                            <button class="btn btn-primary btn-lg" onclick="showNewConfigForm()">
                                <i class="fas fa-plus me-2"></i>å»ºç«‹è©•æ¸¬å°ˆæ¡ˆ
                            </button>
                        </div>

                        <!-- æ”¹é€²çš„é›™æ¬„å¸ƒå±€ -->
                        <div class="row g-4">
                            <!-- å·¦å´é…ç½®åˆ—è¡¨ - èª¿æ•´ç‚ºæ›´çª„ -->
                            <div class="col-xl-3 col-lg-4">
                                <div class="card border-0 shadow-sm">
                                    <div class="card-header bg-light border-0">
                                        <h6 class="mb-0 text-secondary">
                                            <i class="fas fa-list me-2"></i>å°ˆæ¡ˆåˆ—è¡¨
                                        </h6>
                                    </div>
                                    <div class="card-body p-0">
                                        <div id="configList" class="list-group list-group-flush">
                                            <div class="list-group-item border-0 text-center py-4">
                                                <div class="spinner-border spinner-border-sm text-primary mb-2" role="status"></div>
                                                <p class="text-muted small mb-0">è¼‰å…¥ä¸­...</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- å³å´å…§å®¹å€åŸŸ - èª¿æ•´ç‚ºæ›´å¯¬ -->
                            <div class="col-xl-9 col-lg-8">
                                <div class="card border-0 shadow-sm">
                                    <div class="card-header bg-white border-0 d-flex justify-content-between align-items-center">
                                        <h5 id="configFormTitle" class="mb-0 text-dark">
                                            <i class="fas fa-file-alt me-2 text-primary"></i>å°ˆæ¡ˆè©³æƒ…
                                        </h5>
                                        <div id="configFormActions" class="btn-group" style="display: none;">
                                            <button class="btn btn-success" onclick="saveConfigForm()">
                                                <i class="fas fa-save me-2"></i>å»ºç«‹å°ˆæ¡ˆ
                                            </button>
                                            <button class="btn btn-outline-secondary" onclick="cancelConfigForm()">
                                                <i class="fas fa-times me-2"></i>å–æ¶ˆ
                                            </button>
                                        </div>
                                    </div>
                                    <div class="card-body">
                                        <!-- æ­¡è¿ç•«é¢ -->
                                        <div id="configDetails">
                                            <div class="text-center py-5">
                                                <div class="mb-4">
                                                    <i class="fas fa-rocket text-primary" style="font-size: 4rem; opacity: 0.3;"></i>
                                                </div>
                                                <h4 class="text-muted mb-3">é–‹å§‹ä½ çš„è©•æ¸¬ä¹‹æ—…</h4>
                                                <p class="text-muted mb-4">é¸æ“‡ä¸€å€‹ç¾æœ‰å°ˆæ¡ˆé€²è¡Œç·¨è¼¯ï¼Œæˆ–å»ºç«‹ä¸€å€‹æ–°çš„è©•æ¸¬å°ˆæ¡ˆ</p>
                                                <button class="btn btn-primary btn-lg" onclick="showNewConfigForm()">
                                                    <i class="fas fa-plus me-2"></i>å»ºç«‹è©•æ¸¬å°ˆæ¡ˆ
                                                </button>
                                            </div>
                                        </div>
                                        
                                        <!-- é…ç½®è¡¨å–® -->
                                        <div id="configForm" style="display: none;">
                                            <!-- é…ç½®è¡¨å–®å°‡åœ¨é€™è£¡å‹•æ…‹è¼‰å…¥ -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- è©•ä¼°çµæœ -->
                    <div id="results" class="tab-content" style="display: none;">
                        <!-- æ¨™é¡Œ -->
                        <div class="d-flex justify-content-between align-items-center mb-4 px-3">
                            <div>
                                <h2 class="mb-1"><i class="fas fa-chart-bar me-2 text-primary"></i>è©•ä¼°çµæœ</h2>
                                <p class="text-muted mb-0">æŸ¥çœ‹å’Œç®¡ç†è©•æ¸¬çµæœ</p>
                            </div>
                        </div>

                        <!-- çµ±è¨ˆå„€è¡¨æ¿ -->
                        <div class="px-3 mb-4">
                            <div id="resultsDashboard" class="row g-3">
                                <!-- çµ±è¨ˆå¡ç‰‡å°‡å‹•æ…‹è¼‰å…¥ -->
                            </div>
                        </div>

                        <!-- æœç´¢å’Œç¯©é¸å·¥å…·æ¬„ -->
                        <div class="px-3 mb-3">
                            <div class="card border-0 shadow-sm">
                                <div class="card-body">
                                    <div class="row g-3 align-items-center">
                                        <!-- æœç´¢æ¡† -->
                                        <div class="col-md-4">
                                            <div class="input-group">
                                                <span class="input-group-text bg-white border-end-0">
                                                    <i class="fas fa-search text-muted"></i>
                                                </span>
                                                <input type="text" class="form-control border-start-0" 
                                                       id="resultSearchInput" 
                                                       placeholder="æœç´¢è©•æ¸¬çµæœ...">
                                            </div>
                                        </div>
                                        
                                        <!-- æ™‚é–“ç¯„åœç¯©é¸ -->
                                        <div class="col-md-3">
                                            <select class="form-select" id="dateRangeFilter">
                                                <option value="all">ğŸ“… å…¨éƒ¨æ™‚é–“</option>
                                                <option value="today">ä»Šå¤©</option>
                                                <option value="week">æœ¬é€±</option>
                                                <option value="month">æœ¬æœˆ</option>
                                            </select>
                                        </div>
                                        
                                        <!-- é€šéç‡ç¯©é¸ -->
                                        <div class="col-md-3">
                                            <select class="form-select" id="passRateFilter">
                                                <option value="all">ğŸ“Š å…¨éƒ¨é€šéç‡</option>
                                                <option value="high">â‰¥ 80%</option>
                                                <option value="medium">60% - 80%</option>
                                                <option value="low">< 60%</option>
                                            </select>
                                        </div>
                                        
                                        <!-- æ’åº -->
                                        <div class="col-md-2">
                                            <select class="form-select" id="sortByFilter">
                                                <option value="date-desc">ğŸ• æœ€æ–°å„ªå…ˆ</option>
                                                <option value="date-asc">ğŸ• æœ€èˆŠå„ªå…ˆ</option>
                                                <option value="passRate-desc">ğŸ“ˆ é€šéç‡é«˜â†’ä½</option>
                                                <option value="passRate-asc">ğŸ“‰ é€šéç‡ä½â†’é«˜</option>
                                            </select>
                                        </div>
                                    </div>
                                    
                                    <!-- æ´»å‹•ç¯©é¸å™¨æ¨™ç±¤ -->
                                    <div id="activeFilters" class="mt-3" style="display: none;">
                                        <div class="d-flex align-items-center flex-wrap gap-2">
                                            <span class="text-muted small">å·²å¥—ç”¨ç¯©é¸ï¼š</span>
                                            <div id="activeFilterTags" class="d-flex flex-wrap gap-2"></div>
                                            <button class="btn btn-sm btn-link text-danger" onclick="clearAllFilters()">
                                                æ¸…é™¤å…¨éƒ¨
                                            </button>
                                        </div>
                                    </div>
                                    
                                    <!-- çµæœçµ±è¨ˆ -->
                                    <div id="filterStats" class="mt-2 text-muted small"></div>
                                </div>
                            </div>
                        </div>

                        <!-- çµæœåˆ—è¡¨ -->
                        <div class="px-3">
                            <div id="resultsTable">
                                <div class="text-center py-4">
                                    <div class="spinner-border text-primary" role="status">
                                        <span class="visually-hidden">è¼‰å…¥ä¸­...</span>
                                    </div>
                                    <p class="mt-2">è¼‰å…¥è©•ä¼°çµæœä¸­...</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- è©•ä¼°è©³ç´°çµæœé é¢ -->
                    <div id="result-detail" class="tab-content" style="display: none;">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <h2 id="evaluationDetailTitle"><i class="fas fa-chart-line me-2"></i>è©•ä¼°è©³ç´°çµæœ</h2>
                            <button id="backToResults" class="btn btn-outline-secondary">
                                <i class="fas fa-arrow-left me-2"></i>è¿”å›åˆ—è¡¨
                            </button>
                        </div>

                        <div id="evaluationDetailContainer">
                            <div class="text-center py-4">
                                <div class="spinner-border text-primary" role="status">
                                    <span class="visually-hidden">è¼‰å…¥ä¸­...</span>
                                </div>
                                <p class="mt-2">è¼‰å…¥è©³ç´°çµæœä¸­...</p>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <!-- å‹å–„é…ç½®æ¨¡æ…‹æ¡† -->
    <div class="modal fade" id="friendlyConfigModal" tabindex="-1">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">å»ºç«‹è©•æ¸¬å°ˆæ¡ˆ</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="friendlyConfigForm" onsubmit="return false;">
                        <!-- åŸºæœ¬è³‡è¨Š -->
                        <div class="row mb-4">
                            <div class="col-12">
                                <h6 class="text-primary"><i class="fas fa-info-circle me-2"></i>åŸºæœ¬è³‡è¨Š</h6>
                            </div>
                            <div class="col-md-12">
                                <label class="form-label">å°ˆæ¡ˆåç¨± *</label>
                                <input type="text" class="form-control" id="configName" placeholder="ä¾‹å¦‚ï¼šå®¢æœè©•æ¸¬" required>
                                <small class="form-text text-muted">è«‹å‹¿ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦: < > : " / \ | ? *</small>
                            </div>
                        </div>

                        <!-- è¢«æ¸¬API -->
                        <div class="row mb-4">
                            <div class="col-12">
                                <h6 class="text-primary"><i class="fas fa-robot me-2"></i>API è¨­å®š</h6>
                                <p class="text-muted small">è¨­å®šè¦æ¸¬è©¦çš„APIç«¯é»</p>
                            </div>
                        </div>

                        <!-- HTTP Request é…ç½® -->
                        <div class="row mb-4">
                            <div class="col-12">
                                <label class="form-label">API è«‹æ±‚è¨­å®š *</label>
                                <div class="card">
                                    <div class="card-body">
                                        <!-- HTTPS æ”¯æ´ -->
                                        <div class="row mb-3">
                                            <div class="col-md-3">
                                                <label class="form-label fw-bold">ä½¿ç”¨ HTTPS:</label>
                                            </div>
                                            <div class="col-md-9">
                                                <div class="form-check">
                                                    <input class="form-check-input" type="checkbox" id="useHttps">
                                                    <label class="form-check-label" for="useHttps">
                                                        å•Ÿç”¨ HTTPS å®‰å…¨é€£ç·š
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <!-- HTTP æ–¹æ³• -->
                                        <div class="row mb-3">
                                            <div class="col-md-3">
                                                <label class="form-label fw-bold">HTTP æ–¹æ³•:</label>
                                            </div>
                                            <div class="col-md-9">
                                                <div class="row">
                                                    <div class="col-md-4">
                                                        <select class="form-select" id="httpMethod">
                                                            <option value="POST">POST</option>
                                                            <option value="GET">GET</option>
                                                            <option value="PUT">PUT</option>
                                                            <option value="PATCH">PATCH</option>
                                                        </select>
                                                    </div>
                                                    <div class="col-md-8">
                                                        <input type="text" class="form-control" id="httpPath" placeholder="" autocomplete="off" required>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <!-- Host -->
                                        <div class="row mb-3">
                                            <div class="col-md-3">
                                                <label class="form-label fw-bold">Host:</label>
                                            </div>
                                            <div class="col-md-9">
                                                <input type="text" class="form-control" id="httpHost" placeholder="" autocomplete="off" required>
                                            </div>
                                        </div>
                                        
                                        <!-- Content-Type -->
                                        <div class="row mb-3">
                                            <div class="col-md-3">
                                                <label class="form-label fw-bold">Content-Type:</label>
                                            </div>
                                            <div class="col-md-9">
                                                <input type="text" class="form-control" id="httpContentType" placeholder="" value="application/json" required>
                                            </div>
                                        </div>
                                        
                                        <!-- Authorization -->
                                        <div class="row mb-3">
                                            <div class="col-md-3">
                                                <label class="form-label fw-bold">Authorization:</label>
                                            </div>
                                            <div class="col-md-9">
                                                <div class="row">
                                                    <div class="col-md-3">
                                                        <select class="form-select" id="authType">
                                                            <option value="none">ç„¡èªè­‰</option>
                                                            <option value="bearer">Bearer Token</option>
                                                            <option value="basic">Basic Auth</option>
                                                            <option value="apikey">API Key</option>
                                                            <option value="custom">è‡ªå®šç¾©</option>
                                                        </select>
                                                    </div>
                                                    <div class="col-md-9">
                                                        <input type="text" class="form-control" id="authValue" placeholder="" autocomplete="off">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Request Body -->
                        <div class="row mb-4">
                            <div class="col-12">
                                <label class="form-label">Request Body *</label>
                                <textarea class="form-control" id="requestBody" rows="4" placeholder="" autocomplete="off"
                                          required></textarea>
                            </div>
                        </div>

                        <!-- é€²éšé…ç½® -->
                        <div class="row mb-4">
                            <div class="col-12">
                                <h6 class="text-primary"><i class="fas fa-cogs me-2"></i>é€²éšè¨­å®š</h6>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">Response Transform</label>
                                <input type="text" class="form-control" id="transformResponse" placeholder="" value="" autocomplete="off">
                                <small class="form-text text-muted">ä¾‹å¦‚ï¼šjson.response, json.choices[0].message.content</small>
                            </div>
                        </div>



                        <!-- æ¸¬è©¦å•é¡Œ -->
                        <div class="row mb-4">
                            <div class="col-12">
                                <h6 class="text-primary"><i class="fas fa-question-circle me-2"></i>æ¸¬è©¦å•é¡Œ</h6>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">å•é¡Œä¾†æº</label>
                                <select class="form-select" id="questionSource" onchange="toggleQuestionInput()">
                                    <option value="manual">æ‰‹å‹•è¼¸å…¥</option>
                                    <option value="upload">ä¸Šå‚³æª”æ¡ˆ</option>
                                </select>
                                <div id="questionSourceHint" class="mt-2" style="display: none;">
                                    <small class="text-info">
                                        <i class="fas fa-info-circle me-1"></i>
                                        <span id="questionSourceHintText"></span>
                                    </small>
                                </div>
                            </div>
                            <div class="col-md-6" id="fileUploadSection">
                                <label class="form-label">ä¸Šå‚³å•é¡Œæª”æ¡ˆ</label>
                                <input type="file" class="form-control" id="questionFile" accept=".csv,.txt,.json">
                                <small class="form-text text-muted">æ”¯æ´ CSV, TXT, JSON æ ¼å¼</small>
                            </div>
                        </div>

                        <div class="row mb-4" id="manualQuestionsSection">
                            <div class="col-12">
                                <label class="form-label">æ¸¬è©¦å•é¡Œ *</label>
                                <textarea class="form-control" id="testQuestions" rows="6" placeholder="æ¯è¡Œä¸€å€‹å•é¡Œï¼Œä¾‹å¦‚ï¼š&#10;å¦‚ä½•ç”³è«‹åœé›»é€šçŸ¥ï¼Ÿ&#10;é›»è²»å¦‚ä½•è¨ˆç®—ï¼Ÿ&#10;å¦‚ä½•å ±ä¿®é›»åŠ›æ•…éšœï¼Ÿ" required></textarea>
                                <small class="form-text text-muted">æ¯è¡Œä¸€å€‹å•é¡Œï¼Œè‡³å°‘éœ€è¦3å€‹å•é¡Œ</small>
                            </div>
                        </div>

                        <div class="row mb-4" id="uploadedFileInfo">
                            <div class="col-12">
                                <div class="alert alert-info">
                                    <i class="fas fa-info-circle me-2"></i>
                                    <strong>æª”æ¡ˆä¸Šå‚³æ¨¡å¼</strong><br>
                                    å·²é¸æ“‡æª”æ¡ˆä¸Šå‚³ï¼Œç³»çµ±æœƒè‡ªå‹•å°‡æª”æ¡ˆè¤‡è£½åˆ°é…ç½®ç›®éŒ„ä¸¦ä½¿ç”¨ç›¸å°è·¯å¾‘å¼•ç”¨ã€‚
                                </div>
                            </div>
                        </div>

                        <!-- è©•åˆ†æ¨™æº– -->
                        <div class="row mb-4">
                            <div class="col-12">
                                <h6 class="text-primary"><i class="fas fa-check-circle me-2"></i>è©•åˆ†æ¨™æº–è¨­å®š</h6>
                                <p class="text-muted small">é¸æ“‡è©•åˆ†æ–¹å¼ï¼Œæ”¯æ´é è¨­æŒ‡æ¨™å’Œ LLM è©•åˆ†å…©å¤§é¡åˆ¥</p>
                            </div>
                        </div>

                        <!-- è©•åˆ†é…ç½®å€åŸŸ - é›™æ¬„å¸ƒå±€ -->
                        <div class="row">
                            <!-- å·¦æ¬„ï¼šMetric è©•åˆ† -->
                            <div class="col-md-6">
                                <div class="card h-100">
                                    <div class="card-header bg-primary text-white">
                                        <h6 class="mb-0">
                                            <i class="fas fa-chart-line me-2"></i>metricè©•åˆ†
                                        </h6>
                                    </div>
                                    <div class="card-body">
                                        <p class="text-muted small mb-3">é¸æ“‡ä¸€å€‹æˆ–å¤šå€‹å…§å»ºè©•åˆ†æŒ‡æ¨™</p>


                                        <!-- å…¶ä»– Metric è©•åˆ†é¸é … -->
                                        <div class="mb-2">
                                            <div class="form-check">
                                                <input type="checkbox" class="form-check-input" id="enableFactuality" onchange="toggleFactualityConfig()">
                                                <label class="form-check-label" for="enableFactuality">
                                                    <i class="fas fa-check-double me-2"></i>äº‹å¯¦æ€§æª¢æŸ¥
                                                </label>
                                            </div>
                                            <div id="factualityConfig" style="display: none;" class="mt-2 ps-4">
                                                <div class="row">
                                                    <div class="col-12 mb-2">
                                                        <label class="form-label small">é¸æ“‡åƒè€ƒç­”æ¡ˆçš„è®Šæ•¸</label>
                                                        <select class="form-select form-select-sm" id="factualityVariable">
                                                            <option value="">è«‹é¸æ“‡CSVæª”æ¡ˆä¸­åƒè€ƒç­”æ¡ˆçš„è®Šæ•¸</option>
                                                        </select>
                                                        <small class="form-text text-muted">è«‹å…ˆä¸Šå‚³CSVæª”æ¡ˆä»¥è¼‰å…¥è®Šæ•¸é¸é …</small>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        
                                        <div class="mb-2">
                                            <div class="form-check">
                                                <input type="checkbox" class="form-check-input" id="enableBertScore">
                                                <label class="form-check-label" for="enableBertScore">
                                                    <i class="fas fa-calculator me-2"></i>BERT Score
                                                </label>
                                            </div>
                                        </div>
                                        
                                        <div class="mb-2">
                                            <div class="form-check">
                                                <input type="checkbox" class="form-check-input" id="enableRouge">
                                                <label class="form-check-label" for="enableRouge">
                                                    <i class="fas fa-align-left me-2"></i>ROUGE Score
                                                </label>
                                            </div>
                                        </div>
                                        
                                        
                                        <div class="mb-2">
                                            <div class="form-check">
                                                <input type="checkbox" class="form-check-input" id="enableRegex">
                                                <label class="form-check-label" for="enableRegex">
                                                    <i class="fas fa-code me-2"></i>æ­£å‰‡è¡¨é”å¼
                                                </label>
                                            </div>
                                        </div>
                                        
                                        <div class="mb-2">
                                            <div class="form-check">
                                                <input type="checkbox" class="form-check-input" id="enableWordCount">
                                                <label class="form-check-label" for="enableWordCount">
                                                    <i class="fas fa-calculator me-2"></i>å­—æ•¸çµ±è¨ˆ
                                                </label>
                                            </div>
                                        </div>
                                        
                                        <div class="mb-2">
                                            <div class="form-check">
                                                <input type="checkbox" class="form-check-input" id="enableSentiment">
                                                <label class="form-check-label" for="enableSentiment">
                                                    <i class="fas fa-heart me-2"></i>æƒ…æ„Ÿåˆ†æ
                                                </label>
                                            </div>
                                        </div>
                                        
                                        <div class="mb-2">
                                            <div class="form-check">
                                                <input type="checkbox" class="form-check-input" id="enableToxicity">
                                                <label class="form-check-label" for="enableToxicity">
                                                    <i class="fas fa-shield-alt me-2"></i>æ¯’æ€§æª¢æ¸¬
                                                </label>
                                            </div>
                                        </div>
                                        
                                        <div class="mb-2">
                                            <div class="form-check">
                                                <input type="checkbox" class="form-check-input" id="enableReadability">
                                                <label class="form-check-label" for="enableReadability">
                                                    <i class="fas fa-eye me-2"></i>å¯è®€æ€§è©•ä¼°
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- å³æ¬„ï¼šGrader è©•åˆ† -->
                            <div class="col-md-6">
                                <div class="card h-100">
                                    <div class="card-header bg-success text-white">
                                        <h6 class="mb-0">
                                            <i class="fas fa-brain me-2"></i>graderè©•åˆ†
                                        </h6>
                                    </div>
                                    <div class="card-body">
                                        <div class="alert alert-info mb-3">
                                            <i class="fas fa-info-circle me-2"></i>
                                            é€™è£¡æ”¾é—œæ–¼graderçš„é…ç½®
                                        </div>

                                        <!-- G-Eval è©•åˆ† -->
                                        <div class="mb-3">
                                            <div class="form-check">
                                                <input type="checkbox" class="form-check-input" id="enableGEval" onchange="toggleGEvalConfig()">
                                                <label class="form-check-label" for="enableGEval">
                                                    <i class="fas fa-brain me-2"></i>G-Eval (LLMè©•åˆ†)
                                                </label>
                                            </div>
                                            <div id="gevalConfig" style="display: none;" class="mt-3">
                                            <!-- è©•åˆ†æ¨™æº– -->
                                            <div class="row mb-3">
                                                <div class="col-12">
                                                    <label class="form-label">è©•åˆ†æ¨™æº–</label>
                                                    <div id="gevalCriteriaList">
                                                        <div class="input-group mb-2">
                                                            <input type="text" class="form-control">
                                                            <button type="button" class="btn btn-outline-danger" onclick="removeGEvalCriteria(this)">
                                                                <i class="fas fa-trash"></i>
                                                            </button>
                                                        </div>
                                                    </div>
                                                    <button type="button" class="btn btn-outline-primary btn-sm" onclick="addGEvalCriteria()">
                                                        <i class="fas fa-plus me-1"></i>æ·»åŠ è©•åˆ†æ¨™æº–
                                                    </button>
                                                </div>
                                            </div>

                                            <!-- LLM æä¾›è€…é¸æ“‡ -->
                                            <div class="row mb-3">
                                                <div class="col-12">
                                                    <label class="form-label">LLM æä¾›è€…</label>
                                                    <select class="form-select" id="llmProvider" onchange="updateLLMProviderConfig()">
                                                        <option value="">è«‹é¸æ“‡ LLM æä¾›è€…</option>
                                                        <option value="openai">OpenAI</option>
                                                        <option value="anthropic">Anthropic (Claude)</option>
                                                        <option value="azure-openai">Azure OpenAI</option>
                                                        <option value="google">Google (Gemini)</option>
                                                        <option value="custom">è‡ªå®šç¾© HTTP API</option>
                                                    </select>
                                                </div>
                                            </div>

                                            <!-- OpenAI é…ç½® -->
                                            <div id="openaiProviderConfig" class="provider-config" style="display: none;">
                                                <div class="row mb-3">
                                                    <div class="col-md-6">
                                                        <label class="form-label">OpenAI æ¨¡å‹</label>
                                                        <select class="form-select" id="openaiModel">
                                                            <option value="gpt-4o">OpenAI: GPT-4o</option>
                                                            <option value="gpt-4o-mini" selected>OpenAI: GPT-4o Mini</option>
                                                        </select>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label class="form-label">API Key</label>
                                                        <input type="password" class="form-control" id="openaiApiKey" placeholder="sk-..." autocomplete="off">
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Anthropic é…ç½® -->
                                            <div id="anthropicProviderConfig" class="provider-config" style="display: none;">
                                                <div class="row mb-3">
                                                    <div class="col-md-6">
                                                        <label class="form-label">Anthropic æ¨¡å‹</label>
                                                        <select class="form-select" id="anthropicModel">
                                                            <option value="claude-3-5-sonnet-20241022">Claude 3.5 Sonnet</option>
                                                            <option value="claude-3-opus-20240229">Claude 3 Opus</option>
                                                            <option value="claude-3-haiku-20240307">Claude 3 Haiku</option>
                                                        </select>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label class="form-label">API Key</label>
                                                        <input type="password" class="form-control" id="anthropicApiKey" placeholder="sk-ant-..." autocomplete="off">
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Azure OpenAI é…ç½® -->
                                            <div id="azureProviderConfig" class="provider-config" style="display: none;">
                                                <div class="row mb-3">
                                                    <div class="col-md-4">
                                                        <label class="form-label">Azure Endpoint</label>
                                                        <input type="url" class="form-control" id="azureEndpoint" placeholder="https://your-resource.openai.azure.com" autocomplete="off">
                                                    </div>
                                                    <div class="col-md-4">
                                                        <label class="form-label">API Key</label>
                                                        <input type="password" class="form-control" id="azureApiKey" placeholder="your-api-key" autocomplete="off">
                                                    </div>
                                                    <div class="col-md-4">
                                                        <label class="form-label">Deployment Name</label>
                                                        <input type="text" class="form-control" id="azureDeployment" placeholder="gpt-4o" autocomplete="off">
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Google é…ç½® -->
                                            <div id="googleProviderConfig" class="provider-config" style="display: none;">
                                                <div class="row mb-3">
                                                    <div class="col-md-6">
                                                        <label class="form-label">Google æ¨¡å‹</label>
                                                        <select class="form-select" id="googleModel">
                                                            <option value="gemini-1.5-pro">Gemini 1.5 Pro</option>
                                                            <option value="gemini-1.5-flash">Gemini 1.5 Flash</option>
                                                            <option value="gemini-pro">Gemini Pro</option>
                                                        </select>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label class="form-label">API Key</label>
                                                        <input type="password" class="form-control" id="googleApiKey" placeholder="your-google-api-key" autocomplete="off">
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- è‡ªå®šç¾© HTTP API é…ç½® -->
                                            <div id="customProviderConfig" class="provider-config" style="display: none;">
                                                <div class="row mb-3">
                                                    <div class="col-md-4">
                                                        <label class="form-label">API URL</label>
                                                        <input type="url" class="form-control" id="customUrl" placeholder="https://api.example.com/v1/chat/completions" autocomplete="off">
                                                    </div>
                                                    <div class="col-md-4">
                                                        <label class="form-label">API Key</label>
                                                        <input type="password" class="form-control" id="customApiKey" placeholder="your-api-key" autocomplete="off">
                                                    </div>
                                                    <div class="col-md-4">
                                                        <label class="form-label">æ¨¡å‹åç¨±</label>
                                                        <input type="text" class="form-control" id="customModel" placeholder="gpt-4" autocomplete="off">
                                                    </div>
                                                </div>
                                            </div>

                                                <!-- é…ç½®é è¦½ -->
                                                <div class="row mt-4" id="providerConfigPreview" style="display: none;">
                                                    <div class="col-12">
                                                        <label class="form-label">é…ç½®é è¦½</label>
                                                        <pre class="bg-light p-3 rounded"><code id="configPreviewCode"></code></pre>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- é€²éšè¨­å®š -->
                        <div class="row mb-4">
                            <div class="col-12">
                                <h6 class="text-primary"><i class="fas fa-cogs me-2"></i>é€²éšè¨­å®š</h6>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">è¶…æ™‚æ™‚é–“ (ç§’)</label>
                                <input type="number" class="form-control" id="timeout" min="30" max="300" value="120">
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">æœ€å¤§é‡è©¦æ¬¡æ•¸</label>
                                <input type="number" class="form-control" id="maxRetries" min="0" max="5" value="2">
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">å–æ¶ˆ</button>
                    <button type="button" class="btn btn-outline-info" onclick="previewConfig()">é è¦½å°ˆæ¡ˆ</button>
                    <button type="button" class="btn btn-primary" onclick="saveFriendlyConfig()">å»ºç«‹å°ˆæ¡ˆ</button>
                </div>
            </div>
        </div>
    </div>

    <!-- é…ç½®é è¦½æ¨¡æ…‹æ¡† -->
    <div class="modal fade" id="configPreviewModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">å°ˆæ¡ˆé è¦½</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <pre id="configPreview" class="bg-light p-3 rounded" style="max-height: 400px; overflow-y: auto;"></pre>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">é—œé–‰</button>
                    <button type="button" class="btn btn-primary" onclick="saveFriendlyConfig()">ç¢ºèªå»ºç«‹</button>
                </div>
            </div>
        </div>
    </div>

    <!-- é…ç½®æ¨¡æ¿æ¨¡æ…‹æ¡† -->
    <div class="modal fade" id="configTemplatesModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">å°ˆæ¡ˆæ¨¡æ¿</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="row" id="templateList">
                        <!-- æ¨¡æ¿åˆ—è¡¨å°‡å‹•æ…‹è¼‰å…¥ -->
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">é—œé–‰</button>
                </div>
            </div>
        </div>
    </div>

    <!-- ç¢ºèªå°è©±æ¡†æ¨¡æ…‹æ¡† -->
    <div class="modal fade confirm-dialog" id="confirmDialog" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="confirmDialogTitle">ç¢ºèªæ“ä½œ</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <p id="confirmDialogMessage">æ‚¨ç¢ºå®šè¦åŸ·è¡Œæ­¤æ“ä½œå—ï¼Ÿ</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal" id="confirmDialogCancel">å–æ¶ˆ</button>
                    <button type="button" class="btn btn-danger" id="confirmDialogConfirm">ç¢ºèª</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
    <script>
        // ç¢ºä¿ Chart.js è¼‰å…¥å®Œæˆ
        window.addEventListener('load', function() {
            if (typeof Chart !== 'undefined') {
                console.log('Chart.js è¼‰å…¥æˆåŠŸï¼Œç‰ˆæœ¬:', Chart.version);
            } else {
                console.error('Chart.js è¼‰å…¥å¤±æ•—');
                // å˜—è©¦å¾å‚™ç”¨ CDN è¼‰å…¥
                const script = document.createElement('script');
                script.src = 'https://unpkg.com/chart.js@3.9.1/dist/chart.min.js';
                script.onload = function() {
                    console.log('Chart.js å¾å‚™ç”¨ CDN è¼‰å…¥æˆåŠŸ');
                };
                script.onerror = function() {
                    console.error('Chart.js å¾æ‰€æœ‰ CDN è¼‰å…¥éƒ½å¤±æ•—');
                };
                document.head.appendChild(script);
            }
        });
    </script>
    <!-- æ¨¡çµ„åŒ–çš„ JavaScript æ–‡ä»¶ -->
    <!-- æ ¸å¿ƒæ¨¡çµ„ -->
    <script src="{{ url_for('static', filename='core/app-core.js') }}?v=20250915b"></script>
    
    <!-- ScoreLab é…ç½®ç®¡ç†æ¨¡çµ„ -->
    <script src="{{ url_for('static', filename='scorelab/config/config-manager.js') }}?v=20250915b"></script>
    <script src="{{ url_for('static', filename='scorelab/config/config-form-steps.js') }}?v=20250915b"></script>
    <script src="{{ url_for('static', filename='scorelab/config/scoring-criteria.js') }}?v=20250915b"></script>
    <script src="{{ url_for('static', filename='scorelab/config/form-validation.js') }}?v=20250915b"></script>
    <script src="{{ url_for('static', filename='scorelab/config/config-loader.js') }}?v=20250915b"></script>
    <script src="{{ url_for('static', filename='scorelab/config/config-form.js') }}?v=20250915b"></script>
    
    <!-- ScoreLab çµæœç®¡ç†æ¨¡çµ„ -->
    <script src="{{ url_for('static', filename='scorelab/results/result-filters.js') }}?v=20250916b"></script>
    <script src="{{ url_for('static', filename='scorelab/results/chart-utils.js') }}?v=20250915b"></script>
    <script src="{{ url_for('static', filename='scorelab/results/chart-manager.js') }}?v=20250915b"></script>
    <script src="{{ url_for('static', filename='scorelab/results/modal-charts.js') }}?v=20250915b"></script>
    <script src="{{ url_for('static', filename='scorelab/results/evaluation-results.js') }}?v=20250916b"></script>
    
    <!-- ScoreLab è©•ä¼°åŠŸèƒ½æ¨¡çµ„ -->
    <script src="{{ url_for('static', filename='scorelab/evaluation/evaluation-api.js') }}?v=20250915b"></script>
    <script src="{{ url_for('static', filename='scorelab/evaluation/api-test.js') }}?v=20250915b"></script>
    
    <!-- ScoreLab å…±äº«å·¥å…·æ¨¡çµ„ -->
    <script src="{{ url_for('static', filename='scorelab/shared/toast.js') }}?v=20250916a"></script>
    <script src="{{ url_for('static', filename='scorelab/shared/confirm-dialog.js') }}?v=20250916a"></script>
    <script src="{{ url_for('static', filename='scorelab/shared/utils.js') }}?v=20250915b"></script>
    
    <!-- ä¸»æ‡‰ç”¨ç¨‹å¼ -->
    <script src="{{ url_for('static', filename='app.js') }}?v=20250915g"></script>
</body>
</html>
